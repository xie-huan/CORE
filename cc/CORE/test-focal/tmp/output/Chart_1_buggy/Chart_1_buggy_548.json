{"test_class": {"identifier": "StandardPieURLGeneratorTests", "superclass": "extends TestCase", "interfaces": "", "fields": [], "file": "tests/org/jfree/chart/urls/junit/StandardPieURLGeneratorTests.java"}, "test_case": {"identifier": "testURL", "parameters": "()", "modifiers": "public", "return": "void", "body": "public void testURL() {\n        DefaultPieDataset dataset = new DefaultPieDataset();\n        dataset.setValue(\"Alpha '1'\", new Double(5.0));\n        dataset.setValue(\"Beta\", new Double(5.5));\n        StandardPieURLGenerator g1 = new StandardPieURLGenerator(\n                \"chart.jsp\", \"category\");\n        String url = g1.generateURL(dataset, \"Beta\", 0);\n        assertEquals(\"chart.jsp?category=Beta&amp;pieIndex=0\", url);\n        url = g1.generateURL(dataset, \"Alpha '1'\", 0);\n        assertEquals(\"chart.jsp?category=Alpha+%271%27&amp;pieIndex=0\", url);\n    }", "signature": "void testURL()", "full_signature": "public void testURL()", "class_method_signature": "StandardPieURLGeneratorTests.testURL()", "testcase": true, "constructor": false, "invocations": ["setValue", "setValue", "generateURL", "assertEquals", "generateURL", "assertEquals"]}, "focal_class": {"identifier": "StandardPieURLGenerator", "superclass": "", "interfaces": "implements PieURLGenerator, Serializable", "fields": [{"original_string": "private static final long serialVersionUID = 1626966402065883419L;", "modifier": "private static final", "type": "long", "declarator": "serialVersionUID = 1626966402065883419L", "var_name": "serialVersionUID"}, {"original_string": "private String prefix = \"index.html\";", "modifier": "private", "type": "String", "declarator": "prefix = \"index.html\"", "var_name": "prefix"}, {"original_string": "private String categoryParameterName = \"category\";", "modifier": "private", "type": "String", "declarator": "categoryParameterName = \"category\"", "var_name": "categoryParameterName"}, {"original_string": "private String indexParameterName = \"pieIndex\";", "modifier": "private", "type": "String", "declarator": "indexParameterName = \"pieIndex\"", "var_name": "indexParameterName"}], "methods": [{"identifier": "StandardPieURLGenerator", "parameters": "()", "modifiers": "public", "return": "", "signature": " StandardPieURLGenerator()", "full_signature": "public  StandardPieURLGenerator()", "class_method_signature": "StandardPieURLGenerator.StandardPieURLGenerator()", "testcase": false, "constructor": true}, {"identifier": "StandardPieURLGenerator", "parameters": "(String prefix)", "modifiers": "public", "return": "", "signature": " StandardPieURLGenerator(String prefix)", "full_signature": "public  StandardPieURLGenerator(String prefix)", "class_method_signature": "StandardPieURLGenerator.StandardPieURLGenerator(String prefix)", "testcase": false, "constructor": true}, {"identifier": "StandardPieURLGenerator", "parameters": "(String prefix,\n                                   String categoryParameterName)", "modifiers": "public", "return": "", "signature": " StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName)", "full_signature": "public  StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName)", "class_method_signature": "StandardPieURLGenerator.StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName)", "testcase": false, "constructor": true}, {"identifier": "StandardPieURLGenerator", "parameters": "(String prefix,\n                                   String categoryParameterName,\n                                   String indexParameterName)", "modifiers": "public", "return": "", "signature": " StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName,\n                                   String indexParameterName)", "full_signature": "public  StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName,\n                                   String indexParameterName)", "class_method_signature": "StandardPieURLGenerator.StandardPieURLGenerator(String prefix,\n                                   String categoryParameterName,\n                                   String indexParameterName)", "testcase": false, "constructor": true}, {"identifier": "generateURL", "parameters": "(PieDataset dataset, Comparable key,\n            int pieIndex)", "modifiers": "public", "return": "String", "signature": "String generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "full_signature": "public String generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "class_method_signature": "StandardPieURLGenerator.generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "testcase": false, "constructor": false}, {"identifier": "equals", "parameters": "(Object obj)", "modifiers": "public", "return": "boolean", "signature": "boolean equals(Object obj)", "full_signature": "public boolean equals(Object obj)", "class_method_signature": "StandardPieURLGenerator.equals(Object obj)", "testcase": false, "constructor": false}], "file": "source/org/jfree/chart/urls/StandardPieURLGenerator.java"}, "focal_method": {"identifier": "generateURL", "parameters": "(PieDataset dataset, Comparable key,\n            int pieIndex)", "modifiers": "public", "return": "String", "body": "public String generateURL(PieDataset dataset, Comparable key,\n            int pieIndex) {\n        String url = this.prefix;\n        String encodedKey = null;\n        try {\n            encodedKey = URLEncoder.encode(key.toString(), \"UTF-8\");\n        }\n        catch (UnsupportedEncodingException e) {\n            encodedKey = key.toString();\n        }\n        if (url.indexOf(\"?\") > -1) {\n            url += \"&amp;\" + this.categoryParameterName + \"=\" + encodedKey;\n        }\n        else {\n            url += \"?\" + this.categoryParameterName + \"=\" + encodedKey;\n        }\n        if (this.indexParameterName != null) {\n            url += \"&amp;\" + this.indexParameterName + \"=\"\n                   + String.valueOf(pieIndex);\n        }\n        return url;\n    }", "signature": "String generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "full_signature": "public String generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "class_method_signature": "StandardPieURLGenerator.generateURL(PieDataset dataset, Comparable key,\n            int pieIndex)", "testcase": false, "constructor": false, "invocations": ["encode", "toString", "toString", "indexOf", "valueOf"]}, "repository": {"repo_id": "Chart_1_buggy"}}